════════════════════════════════════════════════════════════
       BITTRADER WORKER v5.2 - macOS
       Instalador Automático (Un Clic)
════════════════════════════════════════════════════════════

NOVEDADES v5.2
───────────────
✓ Fix crítico de conectividad: los workers ahora re-detectan
  automáticamente la ruta al coordinator en CADA inicio.
  Antes, si la red local (LAN) no estaba disponible al arrancar,
  los workers fallaban silenciosamente. Ahora siempre usan la
  ruta disponible: LAN si están en casa, Tailscale si están fuera.
✓ config.env ya no guarda la URL hardcodeada (se detecta en vivo)
✓ Compatible con todas las redes sin cambios manuales

¿QUÉ HACE ESTE INSTALADOR?
───────────────────────────
✓ Detecta automáticamente si estás en casa (LAN) o fuera (Tailscale)
✓ Descarga los últimos archivos desde GitHub automáticamente
✓ Instala Python y todas las dependencias
✓ Detecta cuántos CPUs tiene tu Mac y lanza el número óptimo de workers
✓ Configura inicio automático al encender el Mac (LaunchAgent)
✓ Inicia los workers inmediatamente

CÓMO INSTALAR
──────────────
1. Abre esta carpeta en Finder
2. Haz DOBLE CLIC en "INSTALAR.command"
3. Si macOS pregunta si abrir terminal, haz clic en "Abrir"
4. La instalación es completamente automática (~3-5 minutos)

NOTA: Si macOS bloquea el archivo, haz clic derecho → Abrir → Abrir.

COMANDOS ÚTILES (después de instalar)
───────────────────────────────────────
  cd ~/crypto_worker

  Ver estado       : ./status.sh
  Detener workers  : ./stop_workers.sh
  Iniciar workers  : ./start_workers.sh
  Actualizar       : ./update.sh
  Ver logs (W1)    : tail -f logs/worker_1.log

REQUISITOS MÍNIMOS
───────────────────
• macOS 11 Big Sur o superior
• 4 GB de RAM (8+ recomendado)
• Conexión a internet (solo para instalación y workers remotos)
• Apple Silicon (M1/M2/M3) o Intel — ambos compatibles

COORDINADOR (donde se envían los resultados)
─────────────────────────────────────────────
• Red local  : http://10.0.0.232:5001   (auto)
• Tailscale  : http://100.77.179.14:5001 (auto desde cualquier lugar)
• Dashboard  : http://100.77.179.14:8501

SOLUCIÓN DE PROBLEMAS
──────────────────────
• Workers no conectan  → ./status.sh para ver la URL en uso
• Error de Python      → brew install python@3.11
• Sin permisos         → chmod +x ~/crypto_worker/*.sh
• Desinstalar          → launchctl unload ~/Library/LaunchAgents/com.bittrader.workers.plist
                         rm -rf ~/crypto_worker ~/Library/LaunchAgents/com.bittrader.workers.plist

════════════════════════════════════════════════════════════
