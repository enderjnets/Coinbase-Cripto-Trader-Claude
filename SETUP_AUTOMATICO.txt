â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸš€ SETUP AUTOMÃTICO DEL WORKER VÃA SSH                 â•‘
â•‘                  (SIN NECESIDAD DE IR AL WORKER)                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ REQUISITO PREVIO (SOLO UNA VEZ):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En tu MacBook Pro Worker:

1. Abre System Settings (âš™ï¸)
2. General â†’ Sharing
3. Activa "Remote Login" (switch ON)
4. AsegÃºrate que tu usuario "enderj" tenga acceso

Â¡ESO ES TODO! No necesitas hacer nada mÃ¡s en el Worker.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš¡ CONFIGURACIÃ“N AUTOMÃTICA DESDE AQUÃ (EL HEAD):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OPCIÃ“N 1 - Script AutomÃ¡tico (RECOMENDADO):
-------------------------------------------

cd "/Users/enderj/Library/CloudStorage/GoogleDrive-enderjnets@gmail.com/My Drive/Bittrader/Bittrader EA/Dev Folder/Coinbase Cripto Trader Claude"

./remote_setup_worker.sh

Â¡Eso es todo! El script harÃ¡ AUTOMÃTICAMENTE:
âœ… Conectarse al Worker vÃ­a SSH
âœ… Buscar el proyecto
âœ… Detener Ray antiguo
âœ… Iniciar Worker con configuraciÃ³n correcta
âœ… Verificar que estÃ© conectado


OPCIÃ“N 2 - Comando SSH Manual:
-------------------------------

Si el script falla, ejecuta esto:

ssh enderj@Enders-MacBook-Pro.local << 'COMANDOS'
cd "/ruta/al/proyecto"
.venv/bin/ray stop --force
.venv/bin/ray start --address=10.0.0.239:6379
COMANDOS

(Reemplaza "/ruta/al/proyecto" con la ruta real)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… VERIFICAR QUE FUNCIONÃ“:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cd "/Users/enderj/Library/CloudStorage/GoogleDrive-enderjnets@gmail.com/My Drive/Bittrader/Bittrader EA/Dev Folder/Coinbase Cripto Trader Claude"

.venv/bin/ray status

DeberÃ­as ver:
```
Active:
 2 node_xxxxx   â† 2 NODOS

Resources:
 0.0/22.0 CPU   â† 22 CPUs TOTALES
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ EJECUTAR STRATEGY MINER CON 22 CPUS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Una vez conectado (2 nodos, 22 CPUs), ejecuta:

cd "/Users/enderj/Library/CloudStorage/GoogleDrive-enderjnets@gmail.com/My Drive/Bittrader/Bittrader EA/Dev Folder/Coinbase Cripto Trader Claude"

.venv/bin/python3 << 'EOF'
import pandas as pd
from strategy_miner import StrategyMiner
import time

# Cargar datos
df = pd.read_csv("data/BTC-USD_ONE_HOUR_FULL.csv")
print(f"\n{'='*80}")
print(f"â›ï¸  STRATEGY MINER - CONFIGURACIÃ“N Ã“PTIMA")
print(f"{'='*80}")
print(f"\nğŸ“Š Dataset: {len(df):,} velas")
print(f"ğŸ§¬ PoblaciÃ³n: 100 estrategias")
print(f"ğŸ”„ Generaciones: 50")
print(f"ğŸ’» CPUs disponibles: 22")
print(f"â±ï¸  Tiempo estimado: 20-30 minutos")
print(f"\n{'='*80}\n")

# Configurar
miner = StrategyMiner(
    df=df,
    population_size=100,
    generations=50,
    risk_level="LOW",
    force_local=False  # Â¡CRÃTICO! Usar Ray
)

# Callback de progreso
def progress(msg_type, data):
    if msg_type == "START_GEN":
        print(f"\nğŸ§¬ GeneraciÃ³n {data}/50 iniciada...")
    elif msg_type == "BEST_GEN":
        gen = data.get('gen', 0)
        pnl = data.get('pnl', 0)
        genome = data.get('genome', {})
        print(f"   ğŸ† Gen {gen}: PnL ${pnl:.2f}")

# Ejecutar
start_time = time.time()
print("âš¡ Iniciando evoluciÃ³n genÃ©tica...\n")

best_genome, best_pnl = miner.run(progress_callback=progress)

elapsed = time.time() - start_time

# Resultados
print(f"\n\n{'='*80}")
print(f"ğŸ¯ RESULTADO FINAL")
print(f"{'='*80}")
print(f"\nâ±ï¸  Tiempo total: {elapsed/60:.1f} minutos")
print(f"ğŸ† Mejor PnL: ${best_pnl:.2f}")

if best_pnl > 2000:
    print("\nâœ… Â¡EXCELENTE! Estrategia altamente rentable")
elif best_pnl > 1000:
    print("\nâœ… Â¡MUY BIEN! Estrategia rentable")
elif best_pnl > 0:
    print("\nâœ… Estrategia con ganancia positiva")
else:
    print(f"\nâš ï¸  PnL negativo")
    print("   Intenta:")
    print("   - MÃ¡s generaciones (100+)")
    print("   - MÃ¡s datos histÃ³ricos")
    print("   - Diferentes timeframes")

print(f"\nğŸ§¬ DETALLES DEL GENOMA GANADOR:")
print(f"{'='*80}")
print(f"\nğŸ“ ParÃ¡metros:")
print(f"   - Stop Loss: {best_genome['params']['sl_pct']*100:.2f}%")
print(f"   - Take Profit: {best_genome['params']['tp_pct']*100:.2f}%")

print(f"\nğŸ“‹ Reglas de Entrada ({len(best_genome['entry_rules'])} reglas):")
for i, rule in enumerate(best_genome['entry_rules'], 1):
    left = rule.get('left', {})
    op = rule.get('op', '')
    right = rule.get('right', {})

    # Formatear legible
    left_str = f"{left.get('indicator', left.get('field', '?'))}"
    if 'period' in left:
        left_str += f"({left['period']})"

    right_str = f"{right.get('indicator', right.get('field', right.get('value', '?')))}"
    if 'period' in right:
        right_str += f"({right['period']})"

    print(f"   {i}. {left_str} {op} {right_str}")

print(f"\n{'='*80}")
print(f"\nğŸ’¾ Para usar esta estrategia, guarda el genoma impreso arriba")
print(f"   y Ãºsalo en el Bitcoin Spot Pro mode de la interfaz.\n")
EOF

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š MONITOREAR EN TIEMPO REAL:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Mientras corre, abre en tu navegador:

http://10.0.0.239:8265

VerÃ¡s:
- ğŸ“ˆ CPUs al 90-100% (ambas mÃ¡quinas trabajando)
- ğŸ”„ Tareas distribuyÃ©ndose
- â±ï¸  Tiempo por tarea
- ğŸ“Š Nodos activos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ SI ALGO FALLA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

"Cannot connect to Worker via SSH":
â†’ Verifica Remote Login en Worker (System Settings â†’ Sharing)
â†’ Prueba: ssh enderj@Enders-MacBook-Pro.local

"Version mismatch":
â†’ Ambas mÃ¡quinas deben usar Python 3.9.6
â†’ Reinstalar venv en Worker

"Solo usa 10 CPUs":
â†’ Worker no conectado
â†’ Ejecuta: .venv/bin/ray status
â†’ Debe mostrar 2 nodos

"PnL sigue negativo despuÃ©s de 50 generaciones":
â†’ Es NORMAL en algunas corridas (probabilÃ­stico)
â†’ Intenta de nuevo con 100 generaciones
â†’ O con datos de diferentes perÃ­odos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… RESULTADO ESPERADO:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DespuÃ©s de 20-30 minutos verÃ¡s algo como:

ğŸ† Mejor PnL: $2,347.89
   - Stop Loss: 1.8%
   - Take Profit: 4.2%
   - Reglas: 3
     1. RSI(14) < 35
     2. Close > SMA(50)
     3. Volume > VOLSMA(20)

Â¡ESTA es una estrategia real que puedes usar en trading!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
