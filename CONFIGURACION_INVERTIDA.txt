â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“‹ CONFIGURACIÃ“N INVERTIDA - MACBOOK PRO COMO HEAD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FECHA: 2026-01-26
VERSIONES:
  â€¢ Head Installer: v4.0 (MacBook Pro Edition)
  â€¢ Worker Installer: v2.6 (Mobile Edition)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â“ Â¿POR QUÃ‰ INVERTIR LA CONFIGURACIÃ“N?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA ORIGINAL:
  â€¢ MacBook Air (Head) es mÃ³vil - cambia de red constantemente
  â€¢ WiFi â†’ Celular â†’ WiFi â†’ Otra WiFi
  â€¢ Cada cambio de red desconecta al Worker
  â€¢ Worker (MacBook Pro) crashea con SIGSEGV al perder conexiÃ³n con Head

DESCUBRIMIENTO CLAVE:
  â€¢ Ray Head DEBE tener red 100% estable
  â€¢ Ray Worker puede tolerar desconexiones si el Head es estable
  â€¢ El problema NO era Ray, sino la red inestable del Head mÃ³vil

SOLUCIÃ“N:
  âœ… MacBook Pro (fijo en casa) â†’ HEAD NODE (red estable)
  âœ… MacBook Air (mÃ³vil) â†’ WORKER MÃ“VIL (tolera desconexiones)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ—ï¸ NUEVA ARQUITECTURA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MACBOOK PRO (HEAD NODE):
  â€¢ UbicaciÃ³n: Fijo en casa
  â€¢ Red: WiFi domÃ©stica (100% estable)
  â€¢ CPUs: 12
  â€¢ IP: Tailscale (100.x.x.x)
  â€¢ Rol: Coordinador central del cluster
  â€¢ Uptime: 24/7

MACBOOK AIR (WORKER MÃ“VIL):
  â€¢ UbicaciÃ³n: Contigo (mÃ³vil)
  â€¢ Red: WiFi cambia constantemente
  â€¢ CPUs: 10
  â€¢ IP: Tailscale (cambia con la red)
  â€¢ Rol: Worker con reconexiÃ³n automÃ¡tica
  â€¢ Uptime: Solo cuando estÃ¡s trabajando

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š MODOS DE OPERACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MODO 1: SOLO HEAD (MacBook Pro)
  â€¢ CuÃ¡ndo: Cuando estÃ¡s fuera sin MacBook Air
  â€¢ CPUs: 12
  â€¢ Velocidad: Test ~42 segundos
  â€¢ Estabilidad: 100%
  â€¢ Uso: Procesos en background mientras trabajas fuera

MODO 2: HEAD + WORKER MÃ“VIL (Ambos conectados)
  â€¢ CuÃ¡ndo: En casa con WiFi estable
  â€¢ CPUs: 22 (12 Head + 10 Worker Air)
  â€¢ Velocidad: Test ~30-35 segundos
  â€¢ Estabilidad: 100% (Worker se reconecta automÃ¡ticamente)
  â€¢ Uso: MÃ¡ximo rendimiento para optimizaciones largas

MODO 3: WORKER MÃ“VIL EN MOVIMIENTO
  â€¢ CuÃ¡ndo: Llevando MacBook Air a otro lugar
  â€¢ CPUs: 22 â†’ 12 (Worker se desconecta) â†’ 22 (Worker se reconecta)
  â€¢ Comportamiento: Worker se desconecta al perder WiFi, se reconecta automÃ¡ticamente al llegar
  â€¢ Estabilidad: Head sigue corriendo sin problemas
  â€¢ Uso: Trabajos largos que continÃºan aunque el Worker se desconecte

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… VENTAJAS DE ESTA CONFIGURACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. HEAD SIEMPRE ESTABLE
   â€¢ MacBook Pro fijo en casa
   â€¢ Red WiFi domÃ©stica 100% estable
   â€¢ Sin cambios de IP
   â€¢ Sin desconexiones

2. MÃS CPUS QUE ANTES
   â€¢ 12 CPUs (MacBook Pro) vs 10 CPUs (MacBook Air)
   â€¢ 20% mÃ¡s rÃ¡pido cuando solo corre Head
   â€¢ 22 CPUs cuando ambos estÃ¡n conectados

3. WORKER MÃ“VIL RESILIENTE
   â€¢ Se desconecta sin crashear el Head
   â€¢ Se reconecta automÃ¡ticamente
   â€¢ No requiere intervenciÃ³n manual
   â€¢ Daemon monitorea conexiÃ³n cada 30 segundos

4. FLEXIBILIDAD
   â€¢ Puedes usar MacBook Air para trabajar mientras Head corre
   â€¢ Puedes llevar MacBook Air contigo sin afectar al Head
   â€¢ Puedes usar solo Head cuando no necesitas Worker
   â€¢ Puedes agregar mÃ¡s Workers en el futuro

5. SIMPLICIDAD
   â€¢ Instaladores automÃ¡ticos (v4.0 Head, v2.6 Worker)
   â€¢ ConfiguraciÃ³n en 5 minutos
   â€¢ Sin configuraciÃ³n manual compleja
   â€¢ Todo sincronizado via Google Drive

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ INSTRUCCIONES DE INSTALACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO 1: DETENER CONFIGURACIÃ“N ACTUAL
--------------------------------------

En MacBook Air (Head actual):
  cd "/path/to/Coinbase Cripto Trader Claude"
  .venv/bin/ray stop


PASO 2: INSTALAR HEAD EN MACBOOK PRO
--------------------------------------

1. En MacBook Pro, abrir Terminal

2. Ir al proyecto:
   cd "/Users/enderj/Library/CloudStorage/GoogleDrive-enderjnets@gmail.com/My Drive/Bittrader/Bittrader EA/Dev Folder/Coinbase Cripto Trader Claude"

3. Ir a la carpeta del instalador:
   cd Head_Node_Installer_Package

4. Ejecutar instalador:
   chmod +x setup_head_macbook_pro.sh
   ./setup_head_macbook_pro.sh

5. El instalador mostrarÃ¡:
   âœ… Python 3.9.6 instalado
   âœ… Ray 2.51.2 instalado
   âœ… Tailscale conectado
   âœ… ConfiguraciÃ³n guardada

6. IMPORTANTE: Copiar la IP de Tailscale que muestra
   Ejemplo: 100.x.x.x (serÃ¡ diferente a la del Air)


PASO 3: INICIAR RAY HEAD EN MACBOOK PRO
----------------------------------------

Desde el proyecto en MacBook Pro:
  cd "/Users/enderj/Library/CloudStorage/GoogleDrive-enderjnets@gmail.com/My Drive/Bittrader/Bittrader EA/Dev Folder/Coinbase Cripto Trader Claude"

  .venv/bin/ray start --head \
    --port=6379 \
    --node-ip-address=<TAILSCALE_IP> \
    --include-dashboard=false \
    --num-cpus=12

Verificar:
  .venv/bin/ray status

Debe mostrar:
  Active: 1 node
  0.0/12.0 CPU


PASO 4: INSTALAR WORKER EN MACBOOK AIR
---------------------------------------

1. En MacBook Air, abrir Terminal

2. Ir al proyecto:
   cd "/Users/enderj/Library/CloudStorage/GoogleDrive-enderjnets@gmail.com/My Drive/Bittrader/Bittrader EA/Dev Folder/Coinbase Cripto Trader Claude"

3. Ir a la carpeta del instalador:
   cd Worker_Installer_Package

4. Ejecutar instalador:
   chmod +x install.sh
   ./install.sh

5. Cuando pregunte por HEAD_IP:
   Ingresar la IP de Tailscale del MacBook Pro (del Paso 2)

6. El instalador configurarÃ¡:
   âœ… Python 3.9.6
   âœ… Modo Worker MÃ³vil activado
   âœ… Daemon con reconexiÃ³n automÃ¡tica


PASO 5: VERIFICAR CLUSTER COMPLETO
-----------------------------------

En MacBook Pro (Head):
  .venv/bin/ray status

Debe mostrar:
  Active: 2 nodes
  0.0/22.0 CPU  â† 12 (Head) + 10 (Worker Air)


PASO 6: EJECUTAR TEST
----------------------

En MacBook Pro:
  .venv/bin/python test_miner_quick.py

Resultado esperado:
  âš™ï¸  CPUs: 22

  ğŸ§¬ Gen 0/5
     âœ… PnL: $XXX.XX | Trades: 40+ | Win: XX%

  ğŸ† Mejor PnL: $XXX.XX
  â±ï¸  Tiempo: ~30-35 segundos
  âœ… Sin crashes SIGSEGV

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA: Worker no se conecta
SOLUCIÃ“N:
  1. Verificar Tailscale en ambos:
     tailscale status

  2. Verificar ping:
     ping <HEAD_IP>

  3. Verificar HEAD_IP en config:
     cat ~/.bittrader_worker/config.env

  4. Reiniciar Worker daemon:
     launchctl unload ~/Library/LaunchAgents/com.bittrader.worker.plist
     launchctl load ~/Library/LaunchAgents/com.bittrader.worker.plist

PROBLEMA: Worker se desconecta al cambiar de red
SOLUCIÃ“N:
  â€¢ Esto es NORMAL en modo Worker MÃ³vil
  â€¢ El Worker se reconectarÃ¡ automÃ¡ticamente
  â€¢ Verificar logs:
    tail -f ~/.bittrader_worker/worker.log

  â€¢ Debe mostrar:
    "âš ï¸ ConexiÃ³n perdida, reintentando..."
    "âœ… Worker MÃ³vil reconectado al cluster"

PROBLEMA: Head crashea cuando Worker se desconecta
SOLUCIÃ“N:
  â€¢ Esto NO deberÃ­a pasar con la configuraciÃ³n invertida
  â€¢ Verificar que MacBook Pro es el Head:
    .venv/bin/ray status | grep "Head"

  â€¢ Si el problema persiste, reportar bug

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ˆ RENDIMIENTO ESPERADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TEST RÃPIDO (5 generaciones, 10 poblaciÃ³n):
  â€¢ Solo Head (12 CPUs): ~42 segundos
  â€¢ Head + Worker (22 CPUs): ~30-35 segundos
  â€¢ Mejora: ~20-25%

STRATEGY MINER (50 generaciones, 100 poblaciÃ³n):
  â€¢ Solo Head (12 CPUs): ~8-9 minutos
  â€¢ Head + Worker (22 CPUs): ~6-7 minutos
  â€¢ Mejora: ~25-30%

OPTIMIZACIÃ“N COMPLETA (200 generaciones, 200 poblaciÃ³n):
  â€¢ Solo Head (12 CPUs): ~40-45 minutos
  â€¢ Head + Worker (22 CPUs): ~28-32 minutos
  â€¢ Mejora: ~30%

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ SOPORTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VERIFICAR LOGS DEL HEAD:
  tail -f /tmp/ray/session_latest/logs/raylet.out

VERIFICAR LOGS DEL WORKER:
  tail -f ~/.bittrader_worker/worker.log

ESTADO DEL CLUSTER:
  .venv/bin/ray status

DETENER TODO:
  # En Head (MacBook Pro):
  .venv/bin/ray stop

  # En Worker (MacBook Air):
  .venv/bin/ray stop

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FECHA: 2026-01-26
ESTADO: âœ… CONFIGURACIÃ“N OPTIMIZADA Y LISTA PARA USO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
